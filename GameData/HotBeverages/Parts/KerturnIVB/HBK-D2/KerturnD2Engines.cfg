PART
{
	// Hot Beverage Inc. - Kerturn D2 Engine Module
	// Space-age BBQ!
	//

	// --- general parameters ---
	name = KerturnD2Engines
	module = Part
	author = ph34rb0t

	// --- asset parameters ---
	MODEL
	{
		model = HotBeverages/Parts/KerturnIVB/HBK-D2/K-D2Tank
		texture = Kerturn_D2_Tank.png , HotBeverages/Parts/KerturnIVB/HBK-D2/KerturnD2Tank
		scale = 0.8, 0.8, 0.8
		position = 0.0, 2.4, 0.0
	}

	MODEL
	{
		model = HotBeverages/Parts/KerturnIVB/HBK-D2/K-D2Engine
		texture = Kerturn_D2.png , HotBeverages/Parts/KerturnIVB/HBK-D2/KerturnD2
		scale = 0.8, 0.8, 0.8
		position = 0.0, 0.0, 0.0
	}

	// --- node definitions ---
	// node_stack_top = 0.0, 8, 0.0, 0.0, 1.0, 0.0, 3
	// node_stack_bottom = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 3
	node_stack_top = 0.0, 8.0, 0.0, 0.0, 1.0, 0.0, 3
	node_stack_bottom = 0.0, 0.0, 0.0, 0.0, -1.0, 0.0, 3
	node_attach = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0

	// --- editor parameters ---
	TechRequired = heavierRocketry
	entryCost = 12500
	cost = 15000
	category = Propulsion
	subcategory = 0
	title = K-D2 Stage (3.75m)
	manufacturer = Hot Beverage Inc.
	description = The Kerturn D2 stage, powered by the best of the rest. Take it for a trip to the Mun and, once discarded, let it smack right into it. It's totally okay, 9B engines usually don't carry grudges. Tank also does not explode if not shouted at.

	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	// --- standard part parameters ---
	mass = 1.887
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2

	maxTemp = 2500 // 3600
	skinMaxTemp = 2800
	thermalMassModifier = 1.0
	heatConductivity = 0.06
	emissiveConstant = 0.85 // engine nozzles are good at radiating, NTRs even better
	skinInternalConductionMult = 4.0
	radiatorMax = 0.35 //Default = 0.25 but nuke engines are meant to run hot

	fuelCrossFeed = true

	stagingIcon = LIQUID_ENGINE
	explosionPotential = 0.5

	//Fails at 100 tons at 5g ((100*5*9.81) /50)
	crashTolerance = 22
	breakingForce = 100
	breakingTorque = 200

	tags = service module active efficient engine inter liquid  orbit propuls radio vacuum kertun d2 hot beverages

	bulkheadProfiles = size3

// Modules
	MODULE
	{
		name = ModuleToggleCrossfeed
		crossfeedStatus = false
		toggleEditor = true
		toggleFlight = true
	}

	MODULE
	{
		name = ModuleEnginesFX
		engineID = LF // add
		EngineTYpe = LiquidFuel // add
		thrustVectorTransformName = thrustTransform
		runningEffectName = running_closed
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 550 // 258
		heatProduction = 300
		fxOffset = 0, 0, 4
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
			DrawGauge = True
		}
		atmosphereCurve
		{
		key = 0 421
		key = 1 200
			key = 12 0.001
		}
	}

	MODULE
	{
		name = ModuleAnimateHeat
		ThermalAnim = engineHeat 
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 3.0 //1.0
 		gimbalResponseSpeed = 1
 		useGimbalResponseSpeed = true
	}

	MODULE
	{
		name = ModuleAlternator	
		RESOURCE
		{
			name = ElectricCharge
			rate = 2.0
		}
	}

	RESOURCE
	{
		name = ElectricCharge
		amount = 100
		maxAmount = 100
		isTweakable = false
		hideFlow = true
	}

	RESOURCE
	{
		name = LiquidFuel
		amount = 9000 // 44836
		maxAmount = 9000 // 44836
	}

	RESOURCE
	{
		name = Oxidizer
		amount = 11000 // 36684
		maxAmount = 11000 // 36684
	}

	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 0
		fxMax = 0.9
		maxDistance = 75
		falloff = 1.75
		thrustTransformName = thrustTransform
	}

	EFFECTS
	{
		running_closed
		{
			AUDIO
			{
				channel = Ship
				clip = sound_rocket_hard
				volume = 0.0 0.0
				volume = 1.0 1.0
				pitch = 0.0 0.2
				pitch = 1.0 1.0
				loop = true
			}
			PREFAB_PARTICLE
			{
				prefabName = fx_smokeTrail_veryLarge
				transformName = thrustTransform
				emission = 0.05 0.0
				emission = 0.075 0.25
				emission = 1.0 1.25
				speed = 0.0 0.25
				speed = 1.0 1.0
				localOffset = 0, 0, 4
			}
			MODEL_MULTI_PARTICLE
			{
				modelName = Squad/FX/ks1_Exhaust
				transformName = thrustTransform
				emission = 0.0 0.0
				emission = 0.05 0.0
				emission = 0.075 0.25
				emission = 1.0 1.25
				speed = 0.0 0.5
				speed = 1.0 1.2
				localOffset = 0, 0, 4
				localscale = 1, 1, 1
			}
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
	}
}